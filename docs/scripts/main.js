(()=>{"use strict";var e,t,n,r,o,a,i,l,s={195:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"body{font-family:system-ui;font-display:optional;max-width:100vw;min-width:400px;overflow-x:hidden;font-size:15px;color:#333;background-color:#fff;align-items:center;justify-content:center;margin:0}#app{display:flex;flex-wrap:nowrap;justify-content:space-around;flex-direction:column;padding:10px}@media screen and (min-width: 820px){#app{width:800px;margin:auto}}.header{flex:1;display:flex;padding-bottom:20px;padding-top:10px;height:40px;align-items:baseline}.header a{margin-right:40px;color:#447bef}.header .github{margin-right:0px}.header .github img{margin-bottom:-10px;width:50px}",""]);const a=o},288:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".editor-wrapper{height:31px;padding:0px 7px;font-size:17px;font-family:Arial,monospace;border:1px solid #888;border-radius:5px;border-color:rgba(223,225,229,0);box-shadow:0 1px 6px rgba(32,33,36,.28)}.cm-focused{outline:none !important}",""]);const a=o},740:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".output{flex:1;margin-top:20px;overflow-y:scroll}.output .row{flex-direction:row;display:flex;flex:1;padding:10px;font-family:monospace}.output .row:nth-child(even){background:#f4f4f4}.output .row:nth-child(odd){background:#fff}.output .index{min-width:100px}.output .value{flex-grow:1}.output .header{font-weight:bold}",""]);const a=o},992:(e,t,n)=>{var r=n(400),o=n(396);const a=(0,r.kr)({setResult:e=>({})}),i=e=>{const[t,n]=(0,o.eJ)(void 0);return(0,o.d4)((()=>{console.log("changed",t)}),[t]),(0,r.h)(a.Provider,{value:{result:t,setResult:n}},e.children)};var l=n(379),s=n.n(l),c=n(195),p={insert:"head",singleton:!1};s()(c.Z,p);c.Z.locals;var d=n(24),u=n(405),h=n(888);const f=(0,n(572).ir)((e=>{const t=e.state.doc.sliceString(0);Math.max(0,t.length-5),t.length;return[]}));var g=n(288),m={insert:"head",singleton:!1};s()(g.Z,m);g.Z.locals;var b=n(76);let v=n(690)._b.deserialize({version:13,states:"bOVQPOOOOQO'#Ce'#CeQOQPOO",stateData:"e~OWOS~OQPORPOSPOTPO~O",goto:"^YPPPPPPPPPZRQO",nodeNames:"âš  Program Int Function Index RightSide",maxTerm:9,skippedNodes:[0],repeatNodeCount:0,tokenData:"%O~RXXYnYZn]^npqn!Q![!P!]!^!X#T#U$n#]#^$s#b#c$y~sSW~XYnYZn]^npqn~!UPQ~!Q![!P~![ZX^!Xpq!X!Q![!}#y#z!X$f$g!X#BY#BZ!X$IS$I_!X$I|$JO!X$JT$JU!X$KV$KW!X&FU&FV!X~#S[T~X^#xpq#x|}!X!Q![!}#y#z#x$f$g#x#BY#BZ#x$IS$I_#x$I|$JO#x$JT$JU#x$KV$KW#x&FU&FV#x~#{ZX^#xpq#x|}!X#y#z#x$f$g#x#BY#BZ#x$IS$I_#x$I|$JO#x$JT$JU#x$KV$KW#x&FU&FV#x~$sOR~~$vP#Y#Z$n~%OOS~",tokenizers:[0],topRules:{Program:[0,1]},tokenPrec:0}).configure({props:[(0,b.Gv)({Index:b.pJ.variableName,Function:b.pJ.float,Boolean:b.pJ.bool,Int:b.pJ.number,Application:b.pJ.strong,RightSide:b.pJ.list,"( )":b.pJ.paren}),h.uj.add({Application:e=>e.column(e.node.from)+e.unit}),h.x0.add({Application:h.Dv})]});const x="rgb(156,45,154)",y="rgb(83,160,84)",w="rgb(68,123,239)",O="rgb(27,138,189)",$=b.Qf.define([{tag:b.pJ.number,color:w},{tag:b.pJ.variableName,color:y},{tag:b.pJ.float,color:y},{tag:b.pJ.paren,color:O},{tag:b.pJ.list,color:x}]),P=h.LN.define({parser:v});function k(){const e=new URL(window.location.href).searchParams.get("i");return e?decodeURIComponent(e.replace(/%(?![0-9][0-9a-fA-F]+)/g,"%25")):""}function S({onChange:e,wasmLoaded:t}){const n=(0,o.sO)(null);return(0,o.d4)((()=>{if(!t)return;const r=k();""!==r&&e(r),new d.tk({state:u.yy.create({doc:r,extensions:[d.$f.of([{key:"Enter",run:()=>!1,preventDefault:!0}]),$,new h.ri(P),f,(0,d.W$)("Enter your expression"),d.tk.updateListener.of((t=>{if(!t.docChanged)return;const n=t.state.doc.sliceString(0);var r;r=n,window.history.pushState(r,"Fibomachine",""==r?"":`?i=${encodeURIComponent(r)}`),e(n)}))]}),parent:n.current}).focus()}),[t]),(0,r.h)("div",{ref:n,class:"editor-wrapper"})}var _=n(740),J={insert:"head",singleton:!1};s()(_.Z,J);_.Z.locals;const j=()=>{const{result:e}=(0,o.qp)(a);return(0,o.d4)((()=>{console.log("output panel",e)}),[e]),void 0===e?null:e.success?(0,r.h)("div",{class:"output"},(0,r.h)("div",{class:"row header",key:"headline"},(0,r.h)("div",{class:"index"},"n"),(0,r.h)("div",{class:"value"},"a(n)")),e.values.map(((e,t)=>(0,r.h)("div",{class:"row",key:t+e},(0,r.h)("div",{class:"index"},t.toString()),(0,r.h)("div",{class:"value"},e))))):null};n(443);const C=()=>{const e=(0,o.sO)(null),{setResult:t}=(0,o.qp)(a),[i,l]=(0,o.eJ)(!1);return(0,o.d4)((()=>{n.e(36).then(n.bind(n,36)).then((t=>{e.current=t,l(!0)})).catch((e=>console.error("Error importing fibomachine:",e)))})),(0,r.h)("div",{className:"home-page"},(0,r.h)("div",{class:"header"},(0,r.h)("a",{href:"/?i=a(n-1)%20%2B%20a(n-1)%20%3B0%2C1"},"Fibonacci sequence"),(0,r.h)("a",{href:"/?i=if(a(n-1)%252%3D0%2C%20a(n-1)%2F2%2C%20a(n-1)*3%2B1)%20%3B19"},"Collatz conjecture"),(0,r.h)("div",{style:"flex-grow:1;"}),(0,r.h)("a",{href:"https://github.com/tourtiere/fibomachine",class:"github"},(0,r.h)("img",{src:"/GitHub_Logo.png"}))),(0,r.h)(S,{wasmLoaded:i,onChange:n=>{var r;""===n&&t({success:!0,values:[]});try{const o=null===(r=e.current)||void 0===r?void 0:r.run_wasm(n,100);t(JSON.parse(o))}catch(e){t({success:!1,errorType:"Other",range:void 0}),console.log(e)}}}),(0,r.h)(j,null))},E=()=>(0,r.h)("div",null,(0,r.h)("p",null,"A nested page"),(0,r.h)("a",{href:"/"},"Home"),(0,r.h)("br",null),(0,r.h)("a",{href:"/page"},"Parent page")),X=()=>(0,r.h)("div",null,(0,r.h)("p",null,"A page"),(0,r.h)("a",{href:"/"},"Home"),(0,r.h)("br",null),(0,r.h)("a",{href:"/page/nested"},"A nested page"));class A extends r.wA{render(){return document.title="404: "+location.pathname,(0,r.h)("div",null,(0,r.h)("h3",null,"Sorry we could not find: ",location.pathname),(0,r.h)("a",{href:"/"},"Back to main page"))}}class Z extends r.wA{render(){return(0,r.h)(i,null,function(e){const t={"":{content:()=>(0,r.h)(C,null)},"/page":{content:()=>(0,r.h)(X,null)},"/page/nested":{content:()=>(0,r.h)(E,null)}}[e.pathname.replace(/\/$/,"")];return t?t.content():(0,r.h)(A,null)}(location))}}const B=document.getElementById("app");(null==B?void 0:B.hasChildNodes())?B&&B.firstElementChild&&(0,r.sY)((0,r.h)(Z,null),B,B.firstElementChild):B&&(0,r.sY)((0,r.h)(Z,null),B)},443:(e,t,n)=>{e.exports=n.p+"746ec8f0bc97208f903e.png"}},c={};function p(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={id:e,loaded:!1,exports:{}};return s[e](n,n.exports,p),n.loaded=!0,n.exports}p.m=s,e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r=e=>!--e.r&&e(),o=(e,t)=>e?e.push(t):r(t),p.a=(a,i,l)=>{var s,c,p,d=l&&[],u=a.exports,h=!0,f=!1,g=(t,n,r)=>{f||(f=!0,n.r+=t.length,t.map(((t,o)=>t[e](n,r))),f=!1)},m=new Promise(((e,t)=>{p=t,c=()=>(e(u),n(d),d=0)}));m[t]=u,m[e]=(e,t)=>{if(h)return r(e);s&&g(s,e,t),o(d,e),m.catch(t)},a.exports=m,i((a=>{if(!a)return c();var i,l;s=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var i=[];a.then((e=>{l[t]=e,n(i),i=0}));var l={[e]:(e,t)=>(o(i,e),a.catch(t))};return l}}return{[e]:e=>r(e),[t]:a}})))(a);var p=new Promise(((e,n)=>{(i=()=>e(l=s.map((e=>e[t])))).r=0,g(s,i,n)}));return i.r?p:l})).then(c,p),h=!1},a=[],p.O=(e,t,n,r)=>{if(!t){var o=1/0;for(s=0;s<a.length;s++){for(var[t,n,r]=a[s],i=!0,l=0;l<t.length;l++)(!1&r||o>=r)&&Object.keys(p.O).every((e=>p.O[e](t[l])))?t.splice(l--,1):(i=!1,r<o&&(o=r));i&&(a.splice(s--,1),e=n())}return e}r=r||0;for(var s=a.length;s>0&&a[s-1][2]>r;s--)a[s]=a[s-1];a[s]=[t,n,r]},p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var n in t)p.o(t,n)&&!p.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},p.f={},p.e=e=>Promise.all(Object.keys(p.f).reduce(((t,n)=>(p.f[n](e,t),t)),[])),p.u=e=>e+".js",p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),p.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},l="preact-typescript-webpack4-boilerplate:",p.l=(e,t,n,r)=>{if(i[e])i[e].push(t);else{var o,a;if(void 0!==n)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var d=s[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==l+n){o=d;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,p.nc&&o.setAttribute("nonce",p.nc),o.setAttribute("data-webpack",l+n),o.src=e),i[e]=[t];var u=(t,n)=>{o.onerror=o.onload=null,clearTimeout(h);var r=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),a&&document.head.appendChild(o)}},p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;p.g.importScripts&&(e=p.g.location+"");var t=p.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),p.p=e+"../"})(),(()=>{var e={966:0};p.f.j=(t,n)=>{var r=p.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var a=p.p+p.u(t),i=new Error;p.l(a,(n=>{if(p.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}}),"chunk-"+t,t)}},p.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,i,l]=n,s=0;for(r in i)p.o(i,r)&&(p.m[r]=i[r]);if(l)var c=l(p);for(t&&t(n);s<a.length;s++)o=a[s],p.o(e,o)&&e[o]&&e[o][0](),e[a[s]]=0;return p.O(c)},n=self.webpackChunkpreact_typescript_webpack4_boilerplate=self.webpackChunkpreact_typescript_webpack4_boilerplate||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),p.v=(e,t,n,r)=>{var o=fetch(p.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((t=>Object.assign(e,t.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))};var d=p.O(void 0,[718],(()=>p(992)));d=p.O(d)})();